# üöÄ Installation Guide - Work Simulation Platform

## Overview

This guide explains how to install and set up the Work Simulation Platform on your local machine. The project uses **npm** for frontend dependency management and **pip** for backend dependencies.

## üìã Prerequisites

Before you begin, ensure you have the following installed:

- **Node.js 16+** ([Download here](https://nodejs.org/))
- **Python 3.8+** ([Download here](https://python.org/))
- **Git** ([Download here](https://git-scm.com/))

## üèÅ Quick Start

### 1. Clone the Repository
```bash
git clone https://github.com/your-username/work-sim-platform.git
cd work-sim-platform
```

### 2. Automated Setup (Recommended)

Choose the script for your operating system:

#### Windows (Batch)
```cmd
scripts\setup.bat
```

#### Windows (PowerShell)
```powershell
.\scripts\setup.ps1
```

#### macOS/Linux
```bash
chmod +x scripts/setup.sh
./scripts/setup.sh
```

### 3. Manual Setup (Alternative)

If you prefer to set up manually or the automated scripts don't work:

#### Backend Setup
```bash
# Create virtual environment
python -m venv venv

# Activate virtual environment
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# Install Python dependencies
pip install -r requirements.txt
```

#### Frontend Setup
```bash
# Navigate to frontend directory
cd frontend

# Install Node.js dependencies (this creates node_modules/)
npm install

# Verify installation
node ../scripts/verify-deps.js

# Go back to root
cd ..
```

## üéØ Starting the Application

### Start Backend
```bash
# Make sure virtual environment is activated
python main.py
```
Backend will be available at: http://localhost:8000

### Start Frontend (New Terminal)
```bash
cd frontend
npm start
```
Frontend will be available at: http://localhost:3000

## üì¶ Understanding Dependencies

### Why is `node_modules/` not in the repository?

The `node_modules` directory contains all JavaScript dependencies and can be **very large** (100MB-500MB+). Instead of including it in Git, we use:

- **`package.json`** - Defines what dependencies are needed
- **`package-lock.json`** - Locks exact versions for reproducible builds
- **`npm install`** - Downloads and creates the `node_modules` directory

### Frontend Dependencies (Node.js)
```
‚úÖ Included in Git:
- package.json         (dependency list)
- package-lock.json    (version locks)

‚ùå NOT included in Git:
- node_modules/        (generated by npm install)
```

### Backend Dependencies (Python)
```
‚úÖ Included in Git:
- requirements.txt     (Python packages)
- core/requirements.txt (Core API packages)

‚ùå NOT included in Git:
- venv/               (virtual environment)
- __pycache__/        (Python cache files)
```

## üîß Available Commands

### Frontend Commands (run from `frontend/` directory)
```bash
npm start           # Start development server
npm run build       # Build for production
npm test            # Run tests
npm run eject       # Eject from Create React App (not recommended)
```

### Backend Commands (run from root directory)
```bash
python main.py                    # Start backend server
python -m pytest tests/ -v       # Run all tests
python -m pytest tests/test_core.py  # Run specific test file
```

### Utility Scripts
```bash
# Verify frontend dependencies
cd frontend && node ../scripts/verify-deps.js

# Run all tests
python run_all_tests.py
```

## üö® Common Issues and Solutions

### Issue: `npm install` fails
**Solution:**
1. Make sure you're in the `frontend/` directory
2. Delete `node_modules` and `package-lock.json`, then retry:
   ```bash
   cd frontend
   rm -rf node_modules package-lock.json  # or delete manually on Windows
   npm install
   ```

### Issue: "Module not found" errors in frontend
**Solution:** Dependencies not installed
```bash
cd frontend
npm install
```

### Issue: Python import errors
**Solution:** Virtual environment not activated or dependencies not installed
```bash
# Activate virtual environment first
venv\Scripts\activate  # Windows
source venv/bin/activate  # macOS/Linux

# Then install dependencies
pip install -r requirements.txt
```

### Issue: Port already in use
**Solution:** Change ports in configuration or stop other services
```bash
# Backend (change in main.py or use environment variable)
uvicorn main:app --port 8001

# Frontend (change in package.json or use environment variable)
PORT=3001 npm start
```

## üîç Verifying Installation

### 1. Check Backend
Visit: http://localhost:8000/docs
You should see the FastAPI documentation.

### 2. Check Frontend
Visit: http://localhost:3000
You should see the React application.

### 3. Run Tests
```bash
# Backend tests
python -m pytest tests/ -v

# Frontend tests
cd frontend
npm test -- --watchAll=false
```

## üìö Next Steps

1. Read the [README.md](./README.md) for project overview
2. Check [CONTRIBUTING.md](./CONTRIBUTING.md) for development guidelines
3. Explore the API documentation at http://localhost:8000/docs
4. Try the example workflows in the [examples/](./examples/) directory

## üÜò Need Help?

- Check the [troubleshooting section](#common-issues-and-solutions) above
- Review the setup scripts in [scripts/](./scripts/) directory
- Open an issue on GitHub with your error messages
- Make sure all prerequisites are properly installed

## üéâ Success!

If you can access both the frontend (http://localhost:3000) and backend (http://localhost:8000), you're ready to start developing!

The `node_modules` directory is now created locally and will be automatically ignored by Git, so you don't need to worry about accidentally committing large dependency files.
